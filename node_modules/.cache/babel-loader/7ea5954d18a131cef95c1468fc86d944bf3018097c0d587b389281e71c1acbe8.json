{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\HomePC\\\\Desktop\\\\Final-React\\\\Anime-Site\\\\src\\\\context\\\\global.js\",\n  _s = $RefreshSig$(),\n  _s2 = $RefreshSig$();\nimport React, { createContext, useContext, useReducer } from \"react\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nconst GlobalContext = /*#__PURE__*/createContext();\nconst baseUrl = \"https://api.jikan.moe/v4\";\n\n//actions\nconst LOADING = \"LOADING\";\nconst SEARCH = \"SEARCH\";\nconst GET_POPULAR_ANIME = \"GET_POPULAR_ANIME\";\nconst GET_UPCOMING_ANIME = \"GET_UPCOMING_ANIME\";\nconst GET_AIRING_ANIME = \"GET_AIRING_ANIME\";\nconst GET_PICTURES = \"GET_PICTURES\";\nconst ADD_TO_WATCHLIST = \"ADD_TO_WATCHLIST\";\nconst REMOVE_FROM_WATCHLIST = \"REMOVE_FROM_WATCHLIST\";\n\n//reducer\nconst reducer = (state, action) => {\n  switch (action.type) {\n    case LOADING:\n      return {\n        ...state,\n        loading: true\n      };\n    case GET_POPULAR_ANIME:\n      return {\n        ...state,\n        popularAnime: action.payload,\n        loading: false\n      };\n    case SEARCH:\n      return {\n        ...state,\n        searchResults: action.payload,\n        loading: false\n      };\n    case GET_UPCOMING_ANIME:\n      return {\n        ...state,\n        upcomingAnime: action.payload,\n        loading: false\n      };\n    case GET_AIRING_ANIME:\n      return {\n        ...state,\n        airingAnime: action.payload,\n        loading: false\n      };\n    case GET_PICTURES:\n      return {\n        ...state,\n        pictures: action.payload,\n        loading: false\n      };\n    case ADD_TO_WATCHLIST:\n      return {\n        ...state,\n        watchlist: [...state.watchlist, action.payload]\n      };\n    case REMOVE_FROM_WATCHLIST:\n      return {\n        ...state,\n        watchlist: state.watchlist.filter(anime => anime.mal_id !== action.payload)\n      };\n    default:\n      return state;\n  }\n};\nexport const GlobalContextProvider = _ref => {\n  _s();\n  let {\n    children\n  } = _ref;\n  //intial state\n  const intialState = {\n    popularAnime: [],\n    upcomingAnime: [],\n    airingAnime: [],\n    pictures: [],\n    isSearch: false,\n    searchResults: [],\n    loading: false\n  };\n  const [state, dispatch] = useReducer(reducer, intialState);\n  const [search, setSearch] = React.useState('');\n  const addToWatchlist = anime => {\n    dispatch({\n      type: ADD_TO_WATCHLIST,\n      payload: anime\n    });\n  };\n  const removeFromWatchlist = animeId => {\n    dispatch({\n      type: REMOVE_FROM_WATCHLIST,\n      payload: animeId\n    });\n  };\n\n  //handle change\n  const handleChange = e => {\n    setSearch(e.target.value);\n    if (e.target.value === '') {\n      state.isSearch = false;\n    }\n  };\n\n  //handle submit\n  const handleSubmit = e => {\n    e.preventDefault();\n    if (search) {\n      searchAnime(search);\n      state.isSearch = true;\n    } else {\n      state.isSearch = false;\n      alert('Please enter a search term');\n    }\n  };\n\n  //fetch popular anime\n  const getPopularAnime = async () => {\n    dispatch({\n      type: LOADING\n    });\n    const response = await fetch(`${baseUrl}/top/anime?filter=bypopularity`);\n    const data = await response.json();\n    dispatch({\n      type: GET_POPULAR_ANIME,\n      payload: data.data\n    });\n  };\n\n  //fetch upcoming anime\n  const getUpcomingAnime = async () => {\n    dispatch({\n      type: LOADING\n    });\n    const response = await fetch(`${baseUrl}/top/anime?filter=upcoming`);\n    const data = await response.json();\n    dispatch({\n      type: GET_UPCOMING_ANIME,\n      payload: data.data\n    });\n  };\n\n  //fetch airing anime\n  const getAiringAnime = async () => {\n    dispatch({\n      type: LOADING\n    });\n    const response = await fetch(`${baseUrl}/top/anime?filter=airing`);\n    const data = await response.json();\n    dispatch({\n      type: GET_AIRING_ANIME,\n      payload: data.data\n    });\n  };\n\n  //search anime\n  const searchAnime = async anime => {\n    dispatch({\n      type: LOADING\n    });\n    const response = await fetch(`https://api.jikan.moe/v4/anime?q=${anime}&order_by=popularity&sort=asc&sfw`);\n    const data = await response.json();\n    dispatch({\n      type: SEARCH,\n      payload: data.data\n    });\n  };\n\n  //get anime pictures\n  const getAnimePictures = async id => {\n    dispatch({\n      type: LOADING\n    });\n    const response = await fetch(`https://api.jikan.moe/v4/characters/${id}/pictures`);\n    const data = await response.json();\n    dispatch({\n      type: GET_PICTURES,\n      payload: data.data\n    });\n  };\n\n  //initial render\n  React.useEffect(() => {\n    getPopularAnime();\n  }, []);\n  return /*#__PURE__*/_jsxDEV(GlobalContext.Provider, {\n    value: {\n      ...state,\n      handleChange,\n      handleSubmit,\n      searchAnime,\n      search,\n      getPopularAnime,\n      getUpcomingAnime,\n      getAiringAnime,\n      getAnimePictures\n    },\n    children: children\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 135,\n    columnNumber: 9\n  }, this);\n};\n_s(GlobalContextProvider, \"y+I+XODYh2FHXA5Gs53B715BWWk=\");\n_c = GlobalContextProvider;\nexport const useGlobalContext = () => {\n  _s2();\n  return useContext(GlobalContext);\n};\n_s2(useGlobalContext, \"gDsCjeeItUuvgOWf1v4qoK9RF6k=\");\nvar _c;\n$RefreshReg$(_c, \"GlobalContextProvider\");","map":{"version":3,"names":["React","createContext","useContext","useReducer","jsxDEV","_jsxDEV","GlobalContext","baseUrl","LOADING","SEARCH","GET_POPULAR_ANIME","GET_UPCOMING_ANIME","GET_AIRING_ANIME","GET_PICTURES","ADD_TO_WATCHLIST","REMOVE_FROM_WATCHLIST","reducer","state","action","type","loading","popularAnime","payload","searchResults","upcomingAnime","airingAnime","pictures","watchlist","filter","anime","mal_id","GlobalContextProvider","_ref","_s","children","intialState","isSearch","dispatch","search","setSearch","useState","addToWatchlist","removeFromWatchlist","animeId","handleChange","e","target","value","handleSubmit","preventDefault","searchAnime","alert","getPopularAnime","response","fetch","data","json","getUpcomingAnime","getAiringAnime","getAnimePictures","id","useEffect","Provider","fileName","_jsxFileName","lineNumber","columnNumber","_c","useGlobalContext","_s2","$RefreshReg$"],"sources":["C:/Users/HomePC/Desktop/Final-React/Anime-Site/src/context/global.js"],"sourcesContent":["import React, {createContext, useContext, useReducer} from \"react\";\n\nconst GlobalContext = createContext();\n\nconst baseUrl = \"https://api.jikan.moe/v4\";\n\n//actions\nconst LOADING = \"LOADING\";\nconst SEARCH = \"SEARCH\";\nconst GET_POPULAR_ANIME = \"GET_POPULAR_ANIME\";\nconst GET_UPCOMING_ANIME = \"GET_UPCOMING_ANIME\";\nconst GET_AIRING_ANIME = \"GET_AIRING_ANIME\";\nconst GET_PICTURES = \"GET_PICTURES\";\nconst ADD_TO_WATCHLIST = \"ADD_TO_WATCHLIST\";\nconst REMOVE_FROM_WATCHLIST = \"REMOVE_FROM_WATCHLIST\";\n\n//reducer\nconst reducer = (state, action) => {\n    switch(action.type){\n        case LOADING:\n            return {...state, loading: true}\n        case GET_POPULAR_ANIME:\n            return {...state, popularAnime: action.payload, loading: false}\n        case SEARCH:\n            return {...state, searchResults: action.payload, loading: false}\n        case GET_UPCOMING_ANIME:\n            return {...state, upcomingAnime: action.payload, loading: false}\n        case GET_AIRING_ANIME:\n            return {...state, airingAnime: action.payload, loading: false}\n        case GET_PICTURES:\n            return {...state, pictures: action.payload, loading: false}\n        case ADD_TO_WATCHLIST:\n            return { ...state, watchlist: [...state.watchlist, action.payload] };\n        case REMOVE_FROM_WATCHLIST:\n            return { ...state, watchlist: state.watchlist.filter(anime => anime.mal_id !== action.payload) };\n           \n        default:\n            return state;\n    }\n}\n\n\nexport const GlobalContextProvider = ({children}) => {\n    //intial state\n    const intialState = {\n        popularAnime: [],\n        upcomingAnime: [],\n        airingAnime: [],\n        pictures: [],\n        isSearch: false,\n        searchResults: [],\n        loading: false,\n    }\n\n    const [state, dispatch] = useReducer(reducer, intialState);\n    const [search, setSearch] = React.useState('');\n\n\n    const addToWatchlist = (anime) => {\n        dispatch({ type: ADD_TO_WATCHLIST, payload: anime });\n    }\n\n    const removeFromWatchlist = (animeId) => {\n        dispatch({ type: REMOVE_FROM_WATCHLIST, payload: animeId });\n    }\n\n    //handle change\n    const handleChange = (e) => {\n        setSearch(e.target.value);\n        if(e.target.value === ''){\n            state.isSearch = false;\n        }\n    }\n\n\n    //handle submit\n    const handleSubmit = (e) => {\n        e.preventDefault();\n        if(search){\n            searchAnime(search);\n            state.isSearch = true;\n        }else{\n            state.isSearch = false;\n            alert('Please enter a search term')\n        }\n    }\n\n    //fetch popular anime\n    const getPopularAnime = async () => {\n        dispatch({type: LOADING})\n        const response = await fetch(`${baseUrl}/top/anime?filter=bypopularity`);\n        const data = await response.json();\n        dispatch({type: GET_POPULAR_ANIME, payload: data.data})\n    }\n\n    //fetch upcoming anime\n    const getUpcomingAnime = async () => {\n        dispatch({type: LOADING})\n        const response = await fetch(`${baseUrl}/top/anime?filter=upcoming`);\n        const data = await response.json();\n        dispatch({type: GET_UPCOMING_ANIME, payload: data.data})\n    }\n\n\n    //fetch airing anime\n    const getAiringAnime = async () => {\n        dispatch({type: LOADING})\n        const response = await fetch(`${baseUrl}/top/anime?filter=airing`);\n        const data = await response.json();\n        dispatch({type: GET_AIRING_ANIME, payload: data.data})\n    }\n\n    //search anime\n    const searchAnime = async (anime) => {\n        dispatch({type: LOADING})\n        const response = await fetch(`https://api.jikan.moe/v4/anime?q=${anime}&order_by=popularity&sort=asc&sfw`);\n        const data = await response.json();\n        dispatch({type: SEARCH, payload: data.data})\n    }\n\n    //get anime pictures\n    const getAnimePictures = async (id) => {\n        dispatch({type: LOADING})\n        const response = await fetch(`https://api.jikan.moe/v4/characters/${id}/pictures`);\n        const data = await response.json();\n        dispatch({type: GET_PICTURES, payload: data.data})\n    }\n\n    //initial render\n    React.useEffect(() => {\n        getPopularAnime();\n    }, [])\n\n    return(\n        <GlobalContext.Provider value={{\n            ...state,\n            handleChange,\n            handleSubmit,\n            searchAnime,\n            search,\n            getPopularAnime,\n            getUpcomingAnime,\n            getAiringAnime,\n            getAnimePictures \n        }}>\n            {children}\n        </GlobalContext.Provider>\n    )\n}\n\nexport const useGlobalContext = () => {\n    return useContext(GlobalContext);\n}"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}